---
import { imageBuilder } from '../lib/sanity';
import '../styles/global.css';

interface Props {
  name: string;
  region: string;
  gender: string;
  gtlId: string;
  focus: string;
  bio: string;
  image: any;
  isSponsored: boolean;
  slug: string;
}

const { name, region, gender, gtlId, focus, bio, image, isSponsored, slug } = Astro.props;

const imageUrl = imageBuilder.image(image).width(600).fit('crop').url();
---
<div
  class={`border border-1 border-white p-3 bg-transparent font-gotham-office rounded-lg relative ${
    isSponsored ? 'border-2 border-[var(--light-green)] sponsored-badge' : ''
  }`}
>
  <div class={`flex gap-4 items-center ${isSponsored ? 'text-gray-500' : 'text-white'} pb-4`}>
    <img
      src={imageUrl}
      class={`rounded-lg w-1/3 md:pb-0 ${isSponsored ? 'grayscale opacity-40' : ''}`}
      alt={`Photo of ${name}`}
    />
    <div class="w-full">
      <h3
        class={`text-lg md:text-2xl ${isSponsored ? 'text-gray-500' : 'text-white'}`}
      >
        {name}
      </h3>
      <p
        class={`text-sm md:text-base md:py-2 ${
          isSponsored ? 'text-gray-500' : 'text-white'
        }`}
      >
        <strong>Region:</strong> {region}
      </p>
      <hr />
      <div class="flex items-center gap-2 md:gap-4">
        <p
          class={`text-sm md:text-base py-2 ${
            isSponsored ? 'text-gray-500' : 'text-white'
          }`}
        >
          <strong>Gender:</strong> {gender}
        </p>
        <span class={`text-sm md:text-lg ${isSponsored ? 'text-gray-500' : 'text-white'}`}>
          |
        </span>
        <p
          class={`text-xs md:text-base ${isSponsored ? 'text-gray-500' : 'text-white'}`}
        >
          {gtlId}
        </p>
      </div>
    </div>
  </div>

  <div class={`text-white font-gotham-office ${isSponsored ? 'text-gray-500' : ''}`}>
    <div>
      <p
        class={`text-lg font-gotham-office font-bold ${
          isSponsored ? 'text-gray-500' : 'text-white'
        }`}
      >
        <strong>Focus: {focus}</strong>
      </p>
      <p
        class={`text-base md:text-lg font-gotham-office font-light ${
          isSponsored ? 'text-gray-500' : 'text-white'
        }`}
      >
        {bio}
      </p>
    </div>

    <!-- Add View Details Button -->
    <div class="mt-4 flex justify-end">
      <a
        href={`/sponsors/${slug}`}
        class={`px-4 py-2 rounded-lg font-semibold transition-colors ${
          isSponsored
            ? 'bg-gray-600 text-gray-300 hover:bg-gray-500'
            : 'bg-[var(--light-green)] text-black hover:bg-green-400'
        }`}
      >
        View Details
      </a>
    </div>
  </div>
</div>