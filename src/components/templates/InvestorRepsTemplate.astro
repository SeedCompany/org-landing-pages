---
import { sanityClient as sanity, portableText } from '~/sanity';
import type { Campaign } from '../../pages/campaigns/campaignBySlug.groq';

interface Props {
  campaignData: Campaign;
}

const { campaignData } = Astro.props;
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <title>{campaignData.heading}</title>
    <style is:global>
      @import '../../styles/global.css';
    </style>
  </head>
  <body>
    <article>
      <section class="bg-[#f3f3e7]">
        <div class="p-8 max-w-7xl mx-auto md:flex items-center mb-8">
          <!-- Render the hero image -->
          {
            campaignData.heroImage && (
              <img
                class="md:w-1/2 h-auto mb-4 mr-8 rounded-lg shadow-lg"
                src={sanity.image(campaignData.heroImage).url()}
                alt={campaignData.heroImageAlt || 'Default alt text'}
              />
            )
          }
          <div class="p-4">
            <h1 class="font-bold mb-4 text-[#323232]">{campaignData.heading}</h1>
            <!-- Render the heroCopy content -->
            <div class="mb-[60px]" set:html={portableText.toHTML(campaignData.heroCopy)} />
            <a class="cta" href={campaignData.ctaLink}>{campaignData.ctaText}</a>
          </div>
        </div>
      </section>
      <div class="px-8 max-w-7xl mx-auto">
        <!-- Render the body content -->
        <div class="text-[#323232] mb-6" set:html={portableText.toHTML(campaignData.body)} />

        <div class="mt-8 p-4 border border-slate-300 rounded">
          <h2 class="font-semibold text-[#323232]">Investore Rep Template</h2>
          <!-- Placeholder for future Give Form -->
          <div class="mt-4 p-6 bg-white rounded shadow">Give Form Area</div>
        </div>
      </div>
    </article>
  </body>
</html>

<style>
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-family: 'Libre Baskerville', serif;
  }
  h1 {
    font-size: 58px;
    line-height: 1.3em;
  }
  h2 {
    font-size: 42px;
  }
  p {
    font-family: 'Gotham', sans-serif;
    color: #54595f;
  }
  .cta {
    background-color: #006268;
    color: #ffffff;
    padding: 20px 50px;
    border-radius: 5px;
    font-size: 18px;
    font-family: 'Inter', sans-serif;
  }
  @media (max-width: 768px) {
    h1 {
      font-size: 42px;
    }
    h2 {
      font-size: 32px;
    }
  }
</style>
