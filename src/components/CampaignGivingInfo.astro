---
import ProgressBar from './atoms/ProgressBar.astro';
import { watermarkProjectCalculator } from '../lib/watermarkProjectCalculator';
interface Props {
  campaignTotals: {
    totalRaised: number;
    goalAmount: number;
  };
}
const { campaignTotals } = Astro.props;
const currentProgress = watermarkProjectCalculator(campaignTotals.totalRaised);
---

<div class="px-2">
  <div class="grid grid-cols-2">
    <span class="text-2xl mb-4 font-oswald uppercase">Total Raised</span>
    <span class="text-xl mb-4 text-right font-lato"
      >{`$${campaignTotals.totalRaised.toLocaleString('en-US')}`}</span
    >
  </div>
  <ProgressBar
    currentNumber={campaignTotals.totalRaised}
    maxNumber={campaignTotals.goalAmount}
    backgroundType="image"
  />
  <div class="grid grid-cols-2 my-2">
    <span class="text-2xl font-oswald uppercase text-nowrap">Projects Unlocked</span>
    <span class="text-xl text-right font-lato">{currentProgress.projects}</span>
  </div>
  <hr />
  <div class="grid grid-cols-2 my-2">
    <span class="text-2xl font-oswald uppercase text-nowrap">People Impacted</span>
    <span class="text-xl text-right font-lato"
      >{currentProgress.people.toLocaleString('en-US')}</span
    >
  </div>
</div>
